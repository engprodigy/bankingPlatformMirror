function logoutFormatter(){return'<button type="button" class="remove btn btn-sm btn-danger" title="Delete"><i class="now-ui-icons users_single-02"><\/i> Click To logout<\/button>'}function RemoveTellerPosting(url_path){return url_path.slice(0,14)}function LodgementChange(){$("#ddlAcctNumber").select2({theme:"bootstrap4",placeholder:"Loading..."});$.ajax({url:"../TellerAndTill/GetChartOfAccount"}).then(function(response){$("#ddlAcctNumber").select2({theme:"bootstrap4",placeholder:"Search/Select Account no.",width:"100%",data:response})})}function singlechequeDocument(){var singlechequeFile=$("#chequeFileUpload").get(0).files,acctNo,singlechequeData,singlechequeCounter;if(singlechequeFile){for(acctNo=$("#ddlAcctNumber").val(),singlechequeData=new FormData,singlechequeData.append("AccountId",acctNo),singlechequeCounter=0;singlechequeCounter<singlechequeFile.length;singlechequeCounter++)singlechequeData.append("ImageFile",singlechequeFile[singlechequeCounter]);$.ajax("../TellerAndTill/AddExcelChequeUpload/",{method:"POST",contentType:!1,processData:!1,data:singlechequeData,success:function(){swal({title:"Add  details & cheque upload",text:"Details added successfully!",type:"success"}).then(function(){window.location.reload()});$("#AddNewTransferOperation").modal("hide")},error:function(){swal({title:"Details & cheque upload",text:"Details encountered an error",type:"error"}).then(function(){clear()})}})}}function chequeUploadDocument(){var exceluploadDataFile=$("#chequetransUpload").get(0).files,acctNo,exceluploadData,exceluploadCounter;if(exceluploadDataFile){for(acctNo=$("#ddlAcctNumber").val(),exceluploadData=new FormData,exceluploadData.append("AccountId",acctNo),exceluploadCounter=0;exceluploadCounter<exceluploadDataFile.length;exceluploadCounter++)exceluploadData.append("ImageFile",exceluploadDataFile[exceluploadCounter]);$.ajax("../TellerAndTill/AddExcelChequeUpload/",{method:"POST",contentType:!1,processData:!1,data:exceluploadData,success:function(){swal({title:"Add Cheque upload",text:"Cheque upload added successfully!",type:"success"}).then(function(){clear()});$("#AddNewTransferOperation").modal("hide")},error:function(){swal({title:"Cheque upload",text:"Cheque upload encountered an error",type:"error"}).then(function(){clear()})}})}}function chequewithdrawalDocument(){var withdrawalchequeDataFile=$("#withrawchequeFileUpload").get(0).files,accountNo,withrawalchequeData,withrawalchequeCounter;if(withdrawalchequeDataFile){for(accountNo=$("#ddlAcctNumber").val(),withrawalchequeData=new FormData,withrawalchequeData.append("AccountId",accountNo),withrawalchequeCounter=0;withrawalchequeCounter<withdrawalchequeDataFile.length;withrawalchequeCounter++)withrawalchequeData.append("ImageFile",withdrawalchequeDataFile[withrawalchequeCounter]);$.ajax("../TellerAndTill/AddExcelChequeUpload/",{method:"POST",contentType:!1,processData:!1,data:withrawalchequeData,success:function(){swal({title:"Add Cheque upload",text:"Withdrawal & file upload added successfully!",type:"success"}).then(function(){window.location.reload()});$("#AddNewTransferOperation").modal("hide")},error:function(){swal({title:"Cheque upload",text:"Cheque upload encountered an error",type:"error"}).then(function(){clear()})}})}}function CheckedLodgement(){var result=$("input[name ='lodgementWithdrawal']:checked").val();result==="lodgement"&&$("#ShowCashCheque").show()}function CashLodgemntView(){var cash=$("#cash:checked").val();cash==="cash"&&($("#lodgmentcashview").show(),$(".row").show(),$("#chequetypeView").hide())}function ChequeLodgmentCheque(){var cheque=$("#cheque:checked").val();cheque==="cheque"&&($("#lodgmentcashview").show(),$("#chequetypeView").show())}function CheckWithdrawalView(){var result2=$("input[name ='lodgementWithdrawal']:checked").val();result2==="withdrawal"&&($(".row").show(),$("#HideByWithdrawalTrigger").show(),$("#ShowCashCheque").show(),$("#withdrawalcheque").show(),$("#lodgmentcashview").hide(),$("#chequetypeView").hide())}function CheckSingleUpload(){var singleresult=$("input[name ='singlemultipleexcelupload']:checked").val();singleresult==="singlecheque"&&($(".row").show(),$("#HideBysinglecheque").show(),$("#HideBymultiplecheque").hide(),$("#HideByExcelUpload").hide())}function singlechechDrop(){$("#singlecheque").click(function(){$("#HideBysinglecheque").is(":checked")?($("#HideBysinglecheque").show(),$(".row").show(),$("#HideBymultiplecheque").hide(),$("#HideByExcelUpload").hide()):($(".row").hide(),$("#HideBysinglecheque").hide(),$("#HideByExcelUpload").hide(),$("#HideBymultiplecheque").hide());$("#HideBysinglecheque").is(":unchecked")&&($("#HideBysinglecheque").hide(),$(".row").hide(),$("#HideBymultiplecheque").hide(),$("#HideByExcelUpload").hide())})}function sleep(milliseconds){for(var start=(new Date).getTime(),i=0;i<1e7;i++)if((new Date).getTime()-start>milliseconds)break}function clearForm(){var form=$("#frmPerformtransaction");form.trigger("reset");form.find("select").trigger("change")}function reloadpage(){location.reload()}function addBasicInfoTransaction(){$("#frmPerformtransaction").validate({messages:{ddlAcctNumber:{required:"Select Acct No is required"},transDepositorName:{required:"Depositor Name is required"},transDate:{required:"Transaction date is required"},depositorAddress:{required:"Depositor's address date is required"},transDepositorPhone:{number:!0},transDepositSlipNo:{number:!0},amountFigure:{decimal:!0},messages:{transDepositorPhone:{required:"Please select one charge type"},transDepositSlipNo:{required:"Deposit slip should be int"},amountFigure:{required:"amount is required"}}},errorPlacement:function(error){$.notify({icon:"now-ui-icons travel_info",message:error.text()},{type:"danger",placement:{from:"top",align:"right"}})},submitHandler:function(){$("input[type=submit]").attr("disabled","disabled");swal({title:"Are you sure?",text:"Basic Info will be added!",type:"warning",showCancelButton:!0,confirmButtonColor:"#ff9800",confirmButtonText:"Yes, continue",cancelButtonText:"No, stop!",showLoaderOnConfirm:!0,preConfirm:function(){return new Promise(function(resolve){setTimeout(function(){resolve()},4e3)})}}).then(function(isConfirm){if(isConfirm){$("#btnTransactOperations").attr("disabled","disabled");var AccountId=$("#ddlAcctNumber").select2("data")[0].text,Ref=$("#referenceNum").val(),TransactionDate=$("#transDate").val(),DebitAmt=$("#amountFigure").val(),Description=$("#remark").val(),CreditAmt=$("#withdrawalAmount").val(),CurrencyRate=$("#withdrawalCountercheque").val();$.ajax({url:"../TellerAndTill/AddLodgement/",type:"POST",data:{AccountId,Ref,TransactionDate,DebitAmt,Description,CreditAmt,CurrencyRate},dataType:"json",success:function(result){result.toString!==""&&result!==null?(swal({title:"Add lodgement/widthdrawal",text:"Lodgement/widthdrawal add completed successfully!",type:"success"}).then(function(){window.location.reload()}),$("#AddNewTransferOperation").modal("hide"),$("#tellerLoginTable").bootstrapTable("refresh",{url:"TellerAndTill/listTellerLogin"}),$("#btnTransactOperations").removeAttr("disabled")):(swal({title:"Add lodgement and widthdrawal",text:"Something went wrong: <\/br>"+result.toString(),type:"error"}).then(function(){clearForm()}),$("#btnTransactOperations").removeAttr("disabled"))},error:function(){swal({title:"Add lodgement and widthdrawal",text:"Lodgement and widthdrawal operation add encountered an error",type:"error"}).then(function(){clearForm()});$("#btnTransactOperations").removeAttr("disabled")}})}},function(){swal("Add lodgement and widthdrawal","You cancelled lodgement and widthdrawal add.","error");$("#btnTransactOperations").removeAttr("disabled")})}})}function addSingleCheque(){$("#frmPerformtransaction").validate({messages:{cheqlocation:{required:"Select Location No is required"},bankcheque:{required:"Bank is required"},branchcheque:{required:"Select branche is required"},cheqtype:{required:"Select cheque type is required"},singlechequeamount:{number:!0},messages:{singlechequeamount:{required:"Please select one charge type",singlechequeamount:"Amount is not a valid number"}}},errorPlacement:function(error){$.notify({icon:"now-ui-icons travel_info",message:error.text()},{type:"danger",placement:{from:"top",align:"right"}})},submitHandler:function(){$("input[type=submit]").attr("disabled","disabled");swal({title:"Are you sure?",text:"Single cheque details will be added!",type:"warning",showCancelButton:!0,confirmButtonColor:"#ff9800",confirmButtonText:"Yes, continue",cancelButtonText:"No, stop!",showLoaderOnConfirm:!0,preConfirm:function(){return new Promise(function(resolve){setTimeout(function(){resolve()},4e3)})}}).then(function(isConfirm){if(isConfirm){$("#btnAddSingleCheque").attr("disabled","disabled");var AccountId=$("#ddlAcctNumber").val(),AmtDeposited1=$("#singlechequeamount").val(),ChequeBank=$("#bankcheque").val(),BankLocation=$("#branchcheque").val(),ChequeNo=$("#chequeno").val(),ActualDate=$("#chequedate").val();$.ajax({url:"../TellerAndTill/AddSingleChequeOperation",type:"POST",data:{AccountId,AmtDeposited1,ChequeBank,BankLocation,ChequeNo,ActualDate},dataType:"json",success:function(result){$("#chequeFileUpload").val()!==""?singlechequeDocument():(swal({title:"Add single cheque",text:"Something went wrong: <\/br>"+result.toString(),type:"error"}).then(function(){clearForm()}),$("#btnAddSingleCheque").removeAttr("disabled"))},error:function(){swal({title:"Add single cheque",text:"Single cheque add encountered an error",type:"error"}).then(function(){clearForm()});$("#btnAddSingleCheque").removeAttr("disabled")}})}},function(){swal("Add single cheque","You cancelled single cheque add.","error");$("#btnAddSingleCheque").removeAttr("disabled")})}})}function addMultipleCheque(){$("#frmPerformtransaction").validate({messages:{noofcheque:{required:"Select No of cheque"},bankchequemultiple:{required:"Bank is required"},branchchequemultiple:{required:"Branchn is required"},chequecommentmuliple:{required:"Select cheque type is required"}},errorPlacement:function(error){$.notify({icon:"now-ui-icons travel_info",message:error.text()},{type:"danger",placement:{from:"top",align:"right"}})},submitHandler:function(){$("input[type=submit]").attr("disabled","disabled");swal({title:"Are you sure?",text:"Multiple cheque details will be added!",type:"warning",showCancelButton:!0,confirmButtonColor:"#ff9800",confirmButtonText:"Yes, continue",cancelButtonText:"No, stop!",showLoaderOnConfirm:!0,preConfirm:function(){return new Promise(function(resolve){setTimeout(function(){resolve()},4e3)})}}).then(function(isConfirm){if(isConfirm){$("#btnAddMultipleCheque").attr("disabled","disabled");var ChequeBank=$("#bankchequemultiple").val(),BankLocation=$("#cheqlocationmultiple").val(),Narration=$("#chequecommentmuliple").val();$.ajax({url:"TellerAndTill/AddMultipleChequeOperation",type:"POST",data:{ChequeBank,BankLocation,Narration},dataType:"json",success:function(result){result.toString!==""&&result!==null?(swal({title:"Add multiple cheque Application",text:"Multiple cheque add completed successfully!",type:"success"}).then(function(){clear()}),$("#tellerLoginTable").bootstrapTable("refresh",{url:"TellerAndTill/listTellerLogin"}),$("#btnAddMultipleCheque").removeAttr("disabled")):(swal({title:"Add multiple cheque",text:"Something went wrong: <\/br>"+result.toString(),type:"error"}).then(function(){clearForm()}),$("#btnAddMultipleCheque").removeAttr("disabled"))},error:function(){swal({title:"Add multiple cheque",text:"Multiple cheque add encountered an error",type:"error"}).then(function(){clearForm()});$("#btnAddMultipleCheque").removeAttr("disabled")}})}},function(){swal("Add multiple cheque","You cancelled multiple cheque add.","error");$("#btnAddMultipleCheque").removeAttr("disabled")})}})}function addChequeUpload(){$("#frmPerformtransaction").validate({messages:{chequeexcelupload:{required:"Select cheque No is required"},chequetranscommentupload:{required:"comment box is required"}},errorPlacement:function(error){$.notify({icon:"now-ui-icons travel_info",message:error.text()},{type:"danger",placement:{from:"top",align:"right"}})},submitHandler:function(){$("input[type=submit]").attr("disabled","disabled");swal({title:"Are you sure?",text:"Cheque upload details will be added!",type:"warning",showCancelButton:!0,confirmButtonColor:"#ff9800",confirmButtonText:"Yes, continue",cancelButtonText:"No, stop!",showLoaderOnConfirm:!0,preConfirm:function(){return new Promise(function(resolve){setTimeout(function(){resolve()},4e3)})}}).then(function(isConfirm){if(isConfirm){$("#btnAddExcelUpload").attr("disabled","disabled");var BankLocation=$("#chequeexcelupload").val(),Narration=$("#chequetranscommentupload").val();$.ajax({url:"TellerAndTill/AddChequeUploadOperation",type:"POST",data:{BankLocation,Narration},dataType:"json",success:function(result){$("#chequetransUpload").val()!==""?chequeUploadDocument():(swal({title:"Add cheque",text:"Something went wrong: <\/br>"+result.toString(),type:"error"}).then(function(){clearForm()}),$("#btnAddExcelUpload").removeAttr("disabled"))},error:function(){swal({title:"Add cheque",text:"Cheque add encountered an error",type:"error"}).then(function(){clearForm()});$("#btnAddExcelUpload").removeAttr("disabled")}})}},function(){swal("Add cheque","You cancelled cheque UPLOAD.","error");$("#btnAddExcelUpload").removeAttr("disabled")})}})}function addChequeWithdrawal(){$("#frmPerformtransaction").validate({messages:{withdrawalName:{required:"Name  is required"},withdrawaltransDate:{required:"Transaction date is required"},withdrawalCOT:{required:"COT is required"},withdrawalChequeSlipNo:{required:"Slip no is required"},withdrawalAmount:{number:!0},messages:{withdrawalAmount:{required:"Please enter amount",withdrawalAmount:"Amount is not a valid number"}}},errorPlacement:function(error){$.notify({icon:"now-ui-icons travel_info",message:error.text()},{type:"danger",placement:{from:"top",align:"right"}})},submitHandler:function(){$("input[type=submit]").attr("disabled","disabled");swal({title:"Are you sure?",text:"Cheque withdrawal details will be added!",type:"warning",showCancelButton:!0,confirmButtonColor:"#ff9800",confirmButtonText:"Yes, continue",cancelButtonText:"No, stop!",showLoaderOnConfirm:!0,preConfirm:function(){return new Promise(function(resolve){setTimeout(function(){resolve()},4e3)})}}).then(function(isConfirm){if(isConfirm){$("#btnAddWithdrawal").attr("disabled","disabled");var AccountId=$("#ddlAcctNumber").val(),CreditAmt=$("#withdrawalAmount").val(),Narration=$("#withdrawaladdInfo").val(),Description=$("#withdrawaRemark").val();$.ajax({url:"../TellerAndTill/AddChequeWithdrawal/",type:"POST",data:{AccountId,CreditAmt,Narration,Description},dataType:"json",success:function(result){$("#withrawchequeFileUpload").val()!==""?chequewithdrawalDocument():(swal({title:"Add cheque withdrawal",text:"Something went wrong: <\/br>"+result.toString(),type:"error"}).then(function(){clearForm()}),$("#btnAddWithdrawal").removeAttr("disabled"))},error:function(){swal({title:"Add cheque withdrawal",text:"Cheque withdrawal add encountered an error",type:"error"}).then(function(){clearForm()});$("#btnAddWithdrawal").removeAttr("disabled")}})}},function(){swal("Add cheque withdrawal","You cancelled cheque withdrawal add.","error");$("#btnAddWithdrawal").removeAttr("disabled")})}})}var url_path=window.location.pathname;url_path.charAt(url_path.length-1)==="/"&&(url_path=url_path.slice(0,url_path.length-1));$(document).ready(function($){$("#btnTransactOperations").on("click",function(){addBasicInfoTransaction()});$("#btnAddSingleCheque").on("click",function(){addSingleCheque()});$("#btnAddMultipleCheque").on("click",function(){addMultipleCheque()});$("#btnAddExcelUpload").on("click",function(){addChequeUpload()});$("#btnAddWithdrawal").on("click",function(){addChequeWithdrawal()})});$(document).ready(function($){$(".modal").perfectScrollbar();LodgementChange()});$(document).ready(function(){$("#singlecheque").change(function(){$("#HideBysinglecheque").toggle()})});$(document).ready(function(){$("#multiplecheque").click(function(){$("#HideBymultiplecheque").toggle(".row")})});$(document).ready(function(){$("#chequeexcelupload").click(function(){$("#HideByExcelUpload").toggle(".row")})});$("input[name='multiplecheque']").change(function(){$("input[name='multiplecheque']:checked").val()?($("#HideBymultiplecheque").removeClass("hideElement1"),$(".row").show(),$("#HideBymultiplecheque").show()):($("#HideBymultiplecheque").addClass("hideElement1"),$(".row").show(),$("#HideBymultiplecheque").show())});$("input[name='chequeexcelupload']").change(function(){$("input[name='chequeexcelupload']:checked").val()?($("#HideByExcelUpload").removeClass("hideElement2"),$(".row").show(),$("#HideByExcelUpload").show()):($("#HideByExcelUpload").addClass("hideElement2"),$(".row").show(),$("#HideByExcelUpload").show(),$("#HideBysinglecheque").hide(),$("#HideBymultiplecheque").hide())});$(".datetimepicker").datetimepicker({format:"YYYY-MM-DD",icons:{time:"now-ui-icons tech_watch-time",date:"now-ui-icons ui-1_calendar-60",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"now-ui-icons arrows-1_minimal-left",next:"now-ui-icons arrows-1_minimal-right",today:"fa fa-screenshot",clear:"fa fa-trash",close:"fa fa-remove"}});window.tellerLogoutEvents={};